<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="电影,封杀,导演,文革,斗争,革命," />





  <link rel="alternate" href="/atom.xml" title="宋瑞华" type="application/atom+xml" />






<meta name="description" content="《蓝风筝》是一部1993年中国导演田壮壮拍摄的电影，由于影片涉及到新中国建国初期多次政治运动内容，而无法在中国大陆公映，同时导演田壮壮也因此片遭到８年的封禁。蓝风筝是中国第五代导演拍摄文革题材电影的典型影片。影片在1993年的东京国际电影节和夏威夷国际电影节获得最佳影片。影片演员阵容强大，参演的演员有吕丽萍、李雪健、濮存昕、郭宝昌、郭冬临、张丰毅、丁嘉丽、易天等。其中吕丽萍也因此片的出色表演获得了">
<meta name="keywords" content="电影,封杀,导演,文革,斗争,革命">
<meta property="og:type" content="article">
<meta property="og:title" content="《蓝风筝》：通过一部电影窥视阶级斗争的年代">
<meta property="og:url" content="http://static.songruihua.com/archives/the-blue-kite-movie-peep-through-the-era-of-class-struggle.html">
<meta property="og:site_name" content="宋瑞华">
<meta property="og:description" content="《蓝风筝》是一部1993年中国导演田壮壮拍摄的电影，由于影片涉及到新中国建国初期多次政治运动内容，而无法在中国大陆公映，同时导演田壮壮也因此片遭到８年的封禁。蓝风筝是中国第五代导演拍摄文革题材电影的典型影片。影片在1993年的东京国际电影节和夏威夷国际电影节获得最佳影片。影片演员阵容强大，参演的演员有吕丽萍、李雪健、濮存昕、郭宝昌、郭冬临、张丰毅、丁嘉丽、易天等。其中吕丽萍也因此片的出色表演获得了">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-10-18T03:46:26.674Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="《蓝风筝》：通过一部电影窥视阶级斗争的年代">
<meta name="twitter:description" content="《蓝风筝》是一部1993年中国导演田壮壮拍摄的电影，由于影片涉及到新中国建国初期多次政治运动内容，而无法在中国大陆公映，同时导演田壮壮也因此片遭到８年的封禁。蓝风筝是中国第五代导演拍摄文革题材电影的典型影片。影片在1993年的东京国际电影节和夏威夷国际电影节获得最佳影片。影片演员阵容强大，参演的演员有吕丽萍、李雪健、濮存昕、郭宝昌、郭冬临、张丰毅、丁嘉丽、易天等。其中吕丽萍也因此片的出色表演获得了">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://static.songruihua.com/archives/the-blue-kite-movie-peep-through-the-era-of-class-struggle.html"/>





  <title>《蓝风筝》：通过一部电影窥视阶级斗争的年代 | 宋瑞华</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <!--span class="site-title">宋瑞华</span-->
		<span class="site-title"><img src="https://raw.githubusercontent.com/songruihua/songruihua-images/master/site/sname2.gif"></span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Gopus Diobus Shiliotos</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-sitemap">
          <a href="/sitemap.xml" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站点地图
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://static.songruihua.com/archives/the-blue-kite-movie-peep-through-the-era-of-class-struggle.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宋瑞华">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宋瑞华">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">《蓝风筝》：通过一部电影窥视阶级斗争的年代</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2009-12-19T20:03:09+08:00">
                2009-12-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/文化娱乐/" itemprop="url" rel="index">
                    <span itemprop="name">文化娱乐</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/archives/the-blue-kite-movie-peep-through-the-era-of-class-struggle.html#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/archives/the-blue-kite-movie-peep-through-the-era-of-class-struggle.html" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/archives/the-blue-kite-movie-peep-through-the-era-of-class-struggle.html" class="leancloud_visitors" data-flag-title="《蓝风筝》：通过一部电影窥视阶级斗争的年代">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2.9k字
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>《蓝风筝》是一部1993年中国导演田壮壮拍摄的电影，由于影片涉及到新中国建国初期多次政治运动内容，而无法在中国大陆公映，同时导演田壮壮也因此片遭到８年的封禁。蓝风筝是中国第五代导演拍摄文革题材电影的典型影片。影片在1993年的东京国际电影节和夏威夷国际电影节获得最佳影片。影片演员阵容强大，参演的演员有吕丽萍、李雪健、濮存昕、郭宝昌、郭冬临、张丰毅、丁嘉丽、易天等。其中吕丽萍也因此片的出色表演获得了1993年的东京国际电影节的最佳女演员。 剧情简介： 故事以一个居住在北京的小男孩铁头的眼光，讲述了他童年时期经历的人民共和国建国初期的政治运动。从反右运动、大跃进到文化大革命，他的生活也发生了变化。最初他的父亲（濮存昕饰）被错误划为右派，在劳动改造的时候不幸的被大树砸死：之后父亲的好友——“叔叔”（李雪健饰）开始照顾铁头和母亲（吕丽萍饰）二人，又在三年自然灾害中，因肝病而死；文革时期，母亲为铁头找了个继父（郭宝昌饰），却在批斗时被打死。 评价： 与其他反映文革的电影《霸王别姬》《活着》等相比较，《蓝风筝》更直接的反映了文革给人们带来的苦难，国家的政治运动高于人民的人权，电影导演田壮壮准确得反映了事实，而导演的八年封禁也是中国导演最严厉的处罚。而影片被看过观众都评价为一部具有人文关怀的电影，同时被认为是田壮壮的巅峰之作。 观影笔记： 这是我第一次在观看一部电影之后写所谓的笔记，电影看到大约四分之一的时候，我突发奇想地想要记录下电影中的细节引发的我的所思所想，于是退回开头重看，边看边写，于是有了下面的89条笔记，这些想法仅仅是由该部影片所引发，并随意引申联想，举一反三，因我未亲身经历过那个年代，社会大环境又刻意淡化甚至歪曲那个动荡年代在80后、90后一代心中的印象，所以不免有些愤青的嫌疑。 1.    一部反映中国历史的影片需要以日本影片的名义出现在国际社会上 2.    乌鸦反哺 3.    老大哥斯大林死了，中国的一对夫妻的婚礼被推迟 4.    中国人结婚要向毛泽东画像行礼 5.    中国人结婚表演节目一定要唱革命歌曲 6.    一些动不动就上纲上线的啰啰嗦嗦的女领导很招人烦 7.    绣花的红旗袍是羞于穿上街的 8.    结婚时的一些摆设，比如收音机，是借别人的 9.    有时候十几个人一边敲锣打鼓，一边念《人民日报》也会令一些人感到恐惧 10.    1949年之前的“有产阶级”会出于恐惧，主动将资产“公私合营” 11.    放风筝也是很快乐的，原来风筝可以自己做，而不必去买 12.    即使报上说公私合营后“有产阶级”的 “成分”就会改，但一句“重在表现”则令报上说的政策在执行时节外生枝 13.    整风运动已经深入到大爷大妈、家庭妇女身边，一群人边择菜边听人念报纸也可以被称为“开会学习” 14.    有些“迂腐”的知识分子会在党号召大家“提意见” 时“很傻很天真”地对领导提出意见，过后被打为“右派” 15.    部队文工团排演的话剧中的农民都有着极高的“政治觉悟” 16.    学生敢于进教育局局长办公室提意见，结果被同学赶上讲台批判 17.    部队上不管立了什么功，只要不是党员就会被区别对待 18.    对提意见的人进行“整风”发生在中央人民广播电台播出党中央对某个提意见的人进行批判的新闻之后，即所谓上行下效 19.    领导找部下谈话的时候如果打着官腔，又要求写材料，是很危险的事情 20.    部队上文工团女演员陪领导跳舞是一项政治任务 21.    部队上谈恋爱需要向领导汇报 22.    “一个人的政治生命是非常重要的” 23.    单位里的大字报能毁了一个人的一生 24.    小孩子敢于撕大字报 25.    一些人被定为“反党分子”后，他们身边的人往往会感到很意外，“他怎么会是右派呢” 26.    一个人“出了事”往往会让一家人连坐受牵连 27.    部队里将一个人“清理”出来，这个人可能会在念到自己名字的一刹那开枪自杀 28.    单位里的“右派”有时是按照百分比“分配的指标” 29.    在会议上的关键时刻离席去上厕所就有可能被定为“右派” 30.    孩子的一句“打死这个坏爸爸”就可能预示着这位爸爸将真的死去 31.    “右派”会被派往非常远的地方去劳动改造 32.    “一个大活人就能没了”的意思是说革命让谁没了，谁就得没了 33.    看望一个被定为“右派”的女朋友会影响一个军官的前途 34.    五十年代的家信还有人是“竖排”写的 35.    亲人在外地不能回家，妈妈会哭 36.    同事被“发配”外地了，有人会给同事的妻儿送排骨，而他自己的“政治生命”也不安全 37.    “孝”可以通过儿歌教育小孩，比起思想品德课更为有效 38.    没烦什么错误的女兵可以突然复原去工厂，原因不明 39.    整风运动可以让人“怕得要命” 40.    “被复员”女乒会因为“反革命罪”经人民法院核准被人民警察逮捕，但我上学时课本里没说什么叫“反革命罪” 41.    “三反五反”已经被编成童谣被挑皮筋的女孩传唱 42.    “停电”也是某种变故的先兆，比如被大树砸死 43.    夫为天，妻为地，天塌了，地的日子真的不好过 44.    城镇职工到农村劳动是为了去锻炼，支援农业生产 45.    “讲卫生，除四害”也可以被做为政治运动的口号 46.    “大锅饭”吃得很恐怖 47.    小学生也能“炼钢” 48.    “大跃进”是“从来没有过的壮举” 49.    “公社食堂糟蹋了多少大米白面，土法炼钢炼出的全是废铁”是“反动言论”是立场问题，即便说这话的人是处于关心这个国家而言，但这种话也是很“危险”的 50.    “忠字舞”在我眼里很反动，这不明摆着把毛泽东“神化”，“帝化”吗，与党的无神论和反帝反封建口号不符 51.    下乡劳动，拉肚子也能拉死 52.    有些所谓的“迷信”还是要信的 53.    在政治运动中，让甲在某种压力下指出乙的反动言行是一种已被无数次证明行之有效的政治手腕 54.    活着算“右派”，死了也是不明不白的 55.    整日生活在高唱革命歌曲的高音喇叭之下是件很让人崩溃的事 56.    掌握政治权力的人，哪怕再小的权，也可以利用权力去掠夺别人的馒头，哪怕这馒头是人从牙缝里省下来的 57.    一些所谓竞赛、评比，其实质都是政治工具 58.    被逮捕的“反革命分子”会被真的关在无产阶级的专政工具——监狱中 59.    一死一生乃见交情，对死去的朋友的妻儿老小好的人可交 60.    三年“自然”灾害真的发生过，人吃人的惨剧真切的发生在新社会农村，但有什么“天灾”发生倒不是很清楚 61.    收音机里念稿子的播音员的说话口气听起来很有社会主义国家特色，但中国确不及北朝鲜的“生猛” 62.    让中小学生参加合唱革命歌曲是很好的一种颇具中国特色的“教育”手段 63.    寡母嫁给当官的，孤儿才第一次有机会坐小轿车 64.    当官就是好，住的房子比小老百姓的好多了 65.    孩子们从一个小伙伴折叠的玩具“三角”用的什么纸可以猜测出他爸是不是大官 66.    一个毛泽东的雕塑是很多人家的必备物品，最次也要有张“大救星”的画像 67.    “风筝下不来了，回头再给你糊一个” 68.    父母不上班，学生不上课，砸玻璃，仍废纸 69.    收音机里播音员在说着“文化大革命”的最高指示 70.    革命无罪，造反有理 71.    “文化大革命”中几千年中华传统美德“尊师”遭到史无前例的践踏 72.    “文化大革命”中学校的课桌都烧了 73.    送风饺子，接风面 74.    大多数青年总是轻易得成为政治工具和政治牺牲品 75.    “反革命分子”被抓后又被放出来，自己却讲不清楚问什么 76.    大地主的女儿，无论怎样接受改造都不能被平等看待，还是会被从城里赶到农村 77.    文革时有人家的窗户上贴的窗花是一个红心里写着个“忠”字 78.    文革时的“喜事还算个什么事” 79.    文革时，因为一个人的“出身”不好，恋爱的男女会分手 80.    文革时，烧文件成为自保的一种必须 81.    文革时，不管你是局长、县长还是国家主席，几张大字报就能要人命，家属也要被连坐，所以多有家庭为此而离婚 82.    文革时，很多所谓“当权派”都能预感到自己将死的命运，从而会提早安排后事 83.    文革时，批人时要在脖子上挂块写着字的牌子 84.    文革是一场运动，干部都要受到冲击 85.    即使进入“新社会”还有老百姓像《阿Q正传》里的老尼姑那样说“他们都革了大半辈子（命）了，还革呀，就没头了”，但这话“不能在外面说”，要“正确对待革命运动” 86.    无知的青年的的确确是最好的政治工具，有激情，有力气，无心机，好煽动 87.    电影中拍的文革血腥程度有十分的话，我联想到现实起码有二十分的血腥，不敢想了 88.    田壮壮是一个真导演 89.    忆往昔，看今朝，可悲可叹 <strong>2009-12-21补</strong>90.但无论怎样，“妈妈曾喂过我” 下载地址： 上半部thunder://QUFmdHA6Ly8yMTguMjE5LjE0OC4xODE6NTkyOC9maW xtXzEyL2RpYW55aW5nL1RoZSUyMEJsdWUlMjBLaXRlL0NEMS5ybXZiWlo= 下半部:<a href="ftp://218.219.148.181:5928/film_12/dianying/The%20Blue%20Kite/CD2.rmvb" target="_blank" rel="noopener">ftp://218.219.148.181:5928/film_12/dianying/The%20Blue%20Kite/CD2.rmvb</a> 最后，为了体验一下当时那个红色年代是多么的疯狂，特送上一首歌曲《无产阶级文化大革命就是好》</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/电影/" rel="tag"><i class="fa fa-tag"></i> 电影</a>
          
            <a href="/tags/封杀/" rel="tag"><i class="fa fa-tag"></i> 封杀</a>
          
            <a href="/tags/导演/" rel="tag"><i class="fa fa-tag"></i> 导演</a>
          
            <a href="/tags/文革/" rel="tag"><i class="fa fa-tag"></i> 文革</a>
          
            <a href="/tags/斗争/" rel="tag"><i class="fa fa-tag"></i> 斗争</a>
          
            <a href="/tags/革命/" rel="tag"><i class="fa fa-tag"></i> 革命</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/archives/jiang-ping-principal-80-birthday.html" rel="next" title="江平：永远的校长——为先生八十华诞而作">
                <i class="fa fa-chevron-left"></i> 江平：永远的校长——为先生八十华诞而作
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/archives/twitter-weekly-updates-for-2009-12-20.html" rel="prev" title="Twitter Weekly Updates for 2009-12-20">
                Twitter Weekly Updates for 2009-12-20 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="宋瑞华" />
            
              <p class="site-author-name" itemprop="name">宋瑞华</p>
              <p class="site-description motion-element" itemprop="description">Song Ruihua</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">635</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">596</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/songruihua" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:mail##songruihua.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="http://wpa.qq.com/msgrd?v=3&uin=273454295&site=qq&menu=yes" target="_blank" title="QQ">
                      
                        <i class="fa fa-fw fa-qq"></i>QQ</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://twitter.com/songruihua" target="_blank" title="Twitter">
                      
                        <i class="fa fa-fw fa-twitter"></i>Twitter</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.flickr.com/photos/ruihua/" target="_blank" title="Flickr">
                      
                        <i class="fa fa-fw fa-flickr"></i>Flickr</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://weibo.com/songruihua" target="_blank" title="Weibo">
                      
                        <i class="fa fa-fw fa-weibo"></i>Weibo</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2005&mdash;<span itemprop="copyrightYear">2018</span>
  <!--span class="with-love">
    <i class="fa fa-user"></i>
  </span-->
  <span class="author" itemprop="copyrightHolder">Song Ruihua. <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0</a>.</span>
<!--span class="author" itemprop="copyrightHolder">宋瑞华</span-->
  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> and hosted on <a class="theme-link" target="_blank" href="https://github.com/">GitHub</a>. </div>



  <!--span class="post-meta-divider">|</span-->



  <div class="theme-info">Theme based on <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a>.</div>




        







  <div style="display: none;">
    <script src="//s95.cnzz.com/z_stat.php?id=1271256509&web_id=1271256509" language="JavaScript"></script>
  </div>



        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: true,
        appId: 'LUbdqQqzQ2fCWlj5POQPpAPb-gzGzoHsz',
        appKey: 'BO9vxg1rb0UMzG8oA3ckJcaO',
        placeholder: '来来来，评论写这里',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("n5cAOhjCB1cnnuGbwhAwFTdc-gzGzoHsz", "Ugz5kE5rSJegg2EEggP2aWi4");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
