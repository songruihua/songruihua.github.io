<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="初恋," />





  <link rel="alternate" href="/atom.xml" title="宋瑞华" type="application/atom+xml" />






<meta name="description" content="安全感是女孩子的第一需求 安全感，不是，走在大街上被车撞了，走在路上，被天上掉东西砸到了。 而是：你，男人，和女人，之间的关系，到了何种地步： 陌生人，普通朋友，好朋友，男女朋友， 所以才有某人总结的： 分层升级理论 要逐步，建立和女生的熟悉感，建立起情感交流 然后，到了某一层次，稳定后，需要男性，主导升级，进入下一个层次：   西方有句话，说这个女人太难搞了： 你调戏她吧，她说你是流氓； 你不调">
<meta property="og:type" content="article">
<meta property="og:title" content="初恋必读">
<meta property="og:url" content="https://www.songruihua.com/archives/love-reading.html">
<meta property="og:site_name" content="宋瑞华">
<meta property="og:description" content="安全感是女孩子的第一需求 安全感，不是，走在大街上被车撞了，走在路上，被天上掉东西砸到了。 而是：你，男人，和女人，之间的关系，到了何种地步： 陌生人，普通朋友，好朋友，男女朋友， 所以才有某人总结的： 分层升级理论 要逐步，建立和女生的熟悉感，建立起情感交流 然后，到了某一层次，稳定后，需要男性，主导升级，进入下一个层次：   西方有句话，说这个女人太难搞了： 你调戏她吧，她说你是流氓； 你不调">
<meta property="og:locale">
<meta property="article:published_time" content="2013-07-27T09:48:19.000Z">
<meta property="article:modified_time" content="2024-04-11T01:28:58.832Z">
<meta property="article:author" content="宋瑞华">
<meta property="article:tag" content="初恋">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://www.songruihua.com/archives/love-reading.html"/>



<!-- Global site tag (gtag.js) - Google Analytics START-->

<!-- Global site tag (gtag.js) - Google Analytics END-->



  <title>初恋必读 | 宋瑞华</title>
  








<meta name="generator" content="Hexo 8.1.1"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

<a href="/"  rel="start" alt="宋瑞华">
<div class="custom-logo-site-title">
      <!--a href="/"  class="brand" rel="start"-->
        <span class="logo-line-before"><i></i></span>
        <!--span class="site-title">宋瑞华</span-->
		<!--span class="site-title"><img src="/images/logo.gif"></span-->
		<!--span class="site-title"><img src="https://s.songruihua.com/images/static/header_compare.png"></span-->
		
        <span class="logo-line-after"><i></i></span>
      <!--/a-->
    </div>


</a>

        <h1 class="site-subtitle" itemprop="description"><font face="楷体" color="#555555">曲邑东南升明月</font></h1>
		<!--h1 class="site-subtitle" itemprop="description"><font face="楷体">曲邑东南升明月</font></h1-->
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
		  
		  <!--111222-->
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
		  
		  <!--111222-->
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
		  
		  <!--111222-->
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
		  
		  <!--111222-->
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
		  
		  <!--111222-->
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-链接">
          <a href="/links/" rel="section">
		  
		  <!--111222-->
            
              <i class="menu-item-icon fa fa-fw fa-link"></i> <br />
            
            链接
          </a>
        </li>
      
        
        <li class="menu-item menu-item-站图">
          <a href="/sitemap.xml" rel="section">
		  
		  <!--111222-->
            
              <i class="menu-item-icon fa fa-fw fa-sitemap"></i> <br />
            
            站图
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.songruihua.com/archives/love-reading.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="宋瑞华">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="宋瑞华">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">初恋必读</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <!--span class="post-meta-item-text">发表于</span-->
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2013-07-27T17:48:19+08:00">
                2013-07-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <!--span class="post-meta-item-text">分类于</span-->
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%BE%80%E4%BA%8B%E5%A6%82%E6%A2%A6/" itemprop="url" rel="index">
                    <span itemprop="name">往事如梦</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
		  
		  
		  <!--span id="busuanzi_container_page_pv">本文总阅读量<span id="busuanzi_value_page_pv"></span>次</span-->
		  

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>安全感是女孩子的第一需求 安全感，不是，走在大街上被车撞了，走在路上，被天上掉东西砸到了。 而是：你，男人，和女人，之间的关系，到了何种地步： 陌生人，普通朋友，好朋友，男女朋友， 所以才有某人总结的： <strong>分层升级理论</strong> 要逐步，建立和女生的熟悉感，建立起情感交流 然后，到了某一层次，稳定后，需要男性，主导升级，进入下一个层次：   西方有句话，说这个女人太难搞了： 你调戏她吧，她说你是流氓； 你不调戏她吧，她说你不是个男人；   实际上就是： 感情已经到了某个状态，到了该升级的时候，你男人不主导升级-&gt;你不是个男人； 没到该升级的时候，你就随便升级，跨越式发展-&gt;你就是个流氓；   女性关注的： <strong>1.当下（的感受）</strong> 女性思维是指向时间上的当下 既不指向过去，也不指向未来 比方说，接头搭讪，女孩问你： 我为什么要认识你啊 如果你回答，因为你长得漂亮，因为我很喜欢你啊，因为我觉得我们可以发展啊 –&gt; 这些都指向未来 –&gt; 都是男性的目标化思维的未来时 女孩子能接受的答案，恰恰不是这种，而是当下 可能意思都差不多，比如说，男孩子说，为什么要认识你 因为刚才我突然看见你，我觉得有点心动，这是很久没有的感觉，所以我怕错过这次机会，所以头脑一热，我就上来了，这是女孩子可以接受的 即使她拒绝你的搭讪，但是不会给她留下恶感 女孩子问你，为何我要跟你一起吃饭啊 你要说，没你我会吃不下 我为什么要跟你回家啊，因为没你我就睡不好等等 这都是合格的答案，即使达不到目的，也不丢分   男人的思维都是，我跟这个世界的联系 而女人的思维呢，往往都是我当下的感受，对生活当前的重视， 远远重于未来和过去 <strong>2.（你和她之间的）联系</strong> 女性思维的第二个特征就是，她指向的人和人之间的联系 而男性思维呢，更多的指向的目的   女孩子经常会跟男孩子问一个问题： 你此前有几个女朋友？ 男孩子马上机会警觉，要干什么，他也知道这个很危险 但是他的思维永远是在目的性上 就是，我到底说几个呢 他看，他马上就回到数字上 几个呢，40个，对方说，流氓； 说一个？对方说，你基本上就是被淘汰的，没人要的嘛，所以这也不合格； 说0个，从来没有？女孩子说，骗人； 这又是负分了，那男人又纠结了，那我到底说几个，因为他们的思维永远在目的性上走 其实女人问的是数字吗？她要的是我们之间的联系 所以问这种问题，最好回答的是什么？ 哎，你提他们干吗，在我眼里，只有你最重要，你跟她们哪是一回事 你可以把这个问题回避掉 但是你给出的，恰恰是女生想要的答案   那个最著名的问题： 如果你妈和我掉水里，你先救谁 我记得这个是我们读小学时，读者文摘里面的一个问题 读者文摘里面，当时给出了一个答案：救我们未来的妈妈 这个话，说实话，根本就不及格，因为你在秀智商 秀智商，仍然是男性思维， 女孩子要的不是你秀智商，而是，你，跟我，什么关系，所以她问了这个 所以男人就会纠结，他在问题当中纠结 到底，救你，好像我不孝 救我妈，好像也不对 其实女孩子要的答案，你完全抛开这个问题 比方说，你说你的游泳技术不行，我还是别下去了，还是我妈行，我妈能救你 我要是下去，我妈一紧张，没准先救我，反而救不了你，那最后我也活不成，因为没你，我怎么活得成 这其实是无厘头的答案，但是反而是对方要的那种答案   男人的这种目标思维，是要害死人的 他不理解，女性问任何问题，不是要那个答案，而是要，你和她之间的联系   即使在婚后生活中，我们都会观察到大量的这种案例 男人和女人之间的大量的冲突都发生在这个点上 比方说，我身边朋友就有这样的，本来和老婆说好的，今晚回家吃晚饭，然后加班，走不了了 给老婆打一电话，老婆，公司要加班，我回不来了 老婆自然很生气啊，然后回家，男人一推门，老婆拉着一张脸，男人就会暴怒，我tmd加班不也是为了这个家吗 我加班我容易嘛我，臭着个脸干什么啊， 女人也很委屈啊，我做了一桌子菜等你回来吃，你也不会来，然后你回来了，却还发火 然后两人就叮叮当当的干架   其实，男人，误会了女人，他以为女人要的是你回来吃饭 其实错了，不存在这个二选一的选择 女人只是需要你表示你重视他 所以说，比如你在下班路上，你给她买一朵花 或者，想尽其他办法，让她感受到，接收到一个清晰的信号，你很关注她，这事就结了   女人，没有那么不讲道理 所有在男人眼里，不讲道理的女人，都是因为你不知道她想要的那个东西是什么 你以为她要答案，实际上，她只是要一种联系，你和她之间的联系，关系 这就是，男女谈恋爱过程中，最容易踏入的一个陷阱     知道了上面两个，知道了女人要什么 然后就容易明白，男女交往中，如何交流 主要就是： 状态加感受   比方说吧，男孩子和女孩子认识了，还没有明确到男女关系，正处于非常暧昧的关系 好 突然你给她发一短信 你干吗呢 女孩子回复，上班呢 请问下一句怎么回 很多男人都懵了 我曾经在我们团队中做过测试 一个老男人说 那你接着忙吧 那只能回这样的话了 懵了 就不知道怎么回答   其实这个时候，男人的思维，是一种叫 上推式思维 上班呢 哦 最近不景气 你们公司还好吗 等等 他会往这个方向去走 他会把具体的东西 然后抽象到一般 这是男性的上推式思维 而女人要的恰恰是下切式思维，就是回答状态加感受 所以，这个时候，男人可以回答 上班呢 你就可以告诉他 我也上班呢 我这会正好没事 所以给你发一短信 问问你 这就是，感受加状态 这时候女孩子没准就会给你回 最近太忙了 马上又要出差 那你就接着，用这种，状态加感受 跟她聊 出差太好了 我这很长时间没出差了 出差多好啊 可以换换空气 女孩子就又会跟你回 出差好什么呀 烦死了 你就回 出差确实很烦 我上次在哪儿哪儿   你看，女人的交流，从来都是这样的   我在我们的小区里，曾经就看到过这样的场景 两个刚刚有孩子的母亲在那儿聊天 热火朝天 鸡一嘴鸭一嘴 一个多钟头 但是你仔细分析她们其中的话语结构 其实她们没在对话，各自都在说各自的事 一个说我们家的宝宝怎么怎么着，另外一个说，是啊，我们家宝宝，也怎么怎么着 各自都在说各自的宝宝 根本没针对对方的话来提什么意见   所以，女孩子买东西，小芳说，昨天我在西单，看到一条裙子特好看 小玲就会说，是啊，我在东单也看到一件风衣，也特好看 她们女性是这样对话的，但是当小芳跟她的男朋友说的时候 昨天我在西单看到一条裙子特好看 她男朋友会怎么说 多少钱 或者说 要不我去给你买了吧 你看 男人他都是指向目的 指向解决问题的方案 而女孩子很多时候，她并不要你解决问题 她只是在乎自己的感受 比如女孩子跟你说 哎呀，我是路痴，那你只要跟她说 嗨，我也是，我不是路痴，我是数字盲，遇到数字就懵等等，这就能聊起来 如果别人一说，我路痴，你会说 好啊，以后你找不着路，你给我打电话 人家没求助 她只是在描述感受和状态 你一下子，跳到解决方案上去了 你会发现，下面话就没法接了 但是女孩子有的时候呢，比方说，我感冒了 如果她是你女朋友 很多男人都会说 多喝水啊 吃药了没 等等 都是这种 他觉得我也在表达关心啊 但是女孩子要的是这个吗 你这个时候最好的回答就是 我现在在上班 算了 我还是给老板去请个假 我现在去看你吧 你放心，人家女孩子不会让你来的 你上你的班，没关系，但是你一定要表达这种感受，状态 （客串小编，某女：是啊，让我喝水，喝你妹啊！ 罗胖就是好闺蜜啊） 以及，和她之间的联系，而不是你认为的合理的，正确的，低成本的，解决方案 人家根本不关心这个</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/%E5%88%9D%E6%81%8B/" rel="tag"><i class="fa fa-tag"></i> 初恋</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/archives/google-and-baidu-search-capabilities-contrast.html" rel="next" title="谷歌和百度搜索能力对比">
                <i class="fa fa-chevron-left"></i> 谷歌和百度搜索能力对比
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/archives/false-rich-handsome-pseudo-white-beauty.html" rel="prev" title="假高富帅遭遇伪白富美">
                假高富帅遭遇伪白富美 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <!--p class="site-author-name" itemprop="name">宋瑞华</p-->
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%20%7C%7C%20archive">
              
                  <span class="site-state-item-count">575</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">588</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="mailto:songruihua[a t]hotmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="http://wpa.qq.com/msgrd?v=3&uin=273454295&site=qq&menu=yes" target="_blank" title="QQ">
                      
                        <i class="fa fa-fw fa-qq"></i>QQ</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://music.163.com/#/playlist?id=988399180" target="_blank" title="FavMusic">
                      
                        <i class="fa fa-fw fa-music"></i>FavMusic</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="/hk4win/" target="_blank" title="HK4WIN">
                      
                        <i class="fa fa-fw fa-h-square"></i>HK4WIN</a>
                  </span>
                
            </div>
          

          
          

          
          

          

		  
		  
        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright"> <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND</a> 2005&mdash;<span itemprop="copyrightYear">2025</span>
  <!--span class="with-love">
    <i class="fa fa-user"></i>
  </span-->
  <span class="author" itemprop="copyrightHolder">Song Ruihua.</span>
<!--span class="author" itemprop="copyrightHolder">宋瑞华</span-->
  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> and hosted with ❤️️ by <a class="theme-link" target="_blank" href="https://github.com/">GitHub</a>. </div>



  <!--span class="post-meta-divider">|</span-->



<!--script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"-->
<!--/script-->


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
